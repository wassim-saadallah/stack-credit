// fn takes a callback
function toPromise(fn) {

}